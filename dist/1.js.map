{"version":3,"sources":["webpack:///./src/routes/Login/components/Login.js","webpack:///./src/routes/Login/containers/LoginContainer.js","webpack:///./src/routes/Login/modules/login.js"],"names":["Login","login","handleLogin","makeState","handleSignup","event","preventDefault","propTypes","PropTypes","object","isRequired","func","mapDispatchToProps","mapStateToProps","state","connect","LOGIN_FALSE","HANDLE_LOGIN","HANDLE_SIGNUP","SIGNUP_FAILED","MAKE_STATE","dispatch","getState","Promise","resolve","reject","type","payload","message","body","name","email","password","password2","api","post","then","res","data","success","LOGIN_FAILED","localStorage","setItem","token","browserHistory","push","console","log","err","key","text","ACTION_HANDLERS","action","Object","assign","dialog","initialState","counterReducer","handler"],"mappings":";;;;;;;;;;;AAAA;AACA;;AAGO,IAAMA,QAAQ,SAARA,KAAQ;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,MAAUC,WAAV,QAAUA,WAAV;AAAA,MAAuBC,SAAvB,QAAuBA,SAAvB;AAAA,MAAkCC,YAAlC,QAAkCA,YAAlC;AAAA,SACnB;AAAA;AAAA,MAAK,WAAU,KAAf;AACE;AAAA;AAAA,QAAM,UAAU,kBAACC,KAAD,EAAS;AACxBA,gBAAMC,cAAN;AACAJ;AACA,SAHD;AAIE;AAAA;AAAA,UAAQ,WAAU,iBAAlB,EAAoC,MAAK,QAAzC;AAAA;AAAA;AAJF;AADF,GADmB;AAAA,CAAd;AAgBPF,MAAMO,SAAN,GAAkB;AAChBN,SAAO,kDAAAO,CAAUC,MAAV,CAAiBC,UADR;AAEhBR,eAAa,kDAAAM,CAAUG,IAAV,CAAeD,UAFZ;AAGhBN,gBAAc,kDAAAI,CAAUG,IAAV,CAAeD;AAHb,CAAlB;;AAMA,yDAAeV,KAAf,E;;;;;;;;;;;;AC1BA;AACA;;AAEA;;AAGA,IAAMY,qBAAqB;AACzBV,eAAA,2DADyB;AAEzBC,aAAA,yDAFyB;AAGzBC,gBAAA,4DAAAA;AAHyB,CAA3B;;AAMA,IAAMS,kBAAkB,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAY;AAClCb,WAAQa,MAAMb;AADoB,GAAZ;AAAA,CAAxB;;AAKA,+DAAe,2EAAAc,CAAQF,eAAR,EAAyBD,kBAAzB,EAA6C,kEAA7C,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBA;AACA;;AAEO,IAAMI,cAAc,aAApB;AACA,IAAMC,eAAe,cAArB;AACA,IAAMC,gBAAgB,eAAtB;AACA,IAAMC,gBAAgB,eAAtB;AACA,IAAMC,aAAa,YAAnB;;AAGA,SAAShB,YAAT,GAAwB;AAC9B,WAAO,UAACiB,QAAD,EAAWC,QAAX,EAAwB;AAC9B,eAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAClCJ,qBAAS;AACLK,sBAAMR,aADD;AAELS,yBAAS,IAFJ;AAGLC,yBAAS;AAHJ,aAAT;AAKA,gBAAIC,OAAO;AACP;AACA;AACAC,sBAAM,WAHC;AAIPC,uBAAO,oBAJA;AAKPC,0BAAU,QALH;AAMPC,2BAAW;;AANJ,aAAX;AASIC,YAAA,yDAAAA,CAAIC,IAAJ,CAAS,WAAT,EAAsBN,IAAtB,EACKO,IADL,CACU,eAAO;AACT,oBAAGC,IAAIC,IAAJ,CAASC,OAAT,IAAoB,IAAvB,EAA4B;AACxBlB,6BAAS;AACLK,8BAAMP,aADD;AAELQ,iCAAS,IAFJ;AAGLC,iCAASS,IAAIC,IAAJ,CAASV;AAHb,qBAAT;AAKH,iBAND,MAMK;AACDP,6BAAS;AACLK,8BAAMT,YADD;AAELU,iCAAS,IAFJ;AAGLC,iCAAS;AAHJ,qBAAT;AAKA,wBAAIC,OAAO;AACP;AACA;AACAE,+BAAO,oBAHA;AAIPC,kCAAU;AAJH,qBAAX;AAMIE,oBAAA,yDAAAA,CAAIC,IAAJ,CAAS,QAAT,EAAmBN,IAAnB,EACKO,IADL,CACU,eAAO;AACT,4BAAGC,IAAIC,IAAJ,CAASC,OAAT,IAAoB,KAAvB,EAA6B;AACzBlB,qCAAS;AACLK,sCAAMc,YADD;AAELb,yCAAS,IAFJ;AAGLC,yCAASS,IAAIC,IAAJ,CAASV;AAHb,6BAAT;AAKH,yBAND,MAMK;AACDa,yCAAaC,OAAb,CAAqB,cAArB,EAAqCL,IAAIC,IAAJ,CAASK,KAA9C;AACA;AACA;AACAC,4BAAA,4DAAAA,CAAeC,IAAf,CAAoB,GAApB;AACH;AACJ,qBAdL,EAcO,eAAO;AACNC,gCAAQC,GAAR,CAAYC,GAAZ;AACA3B,iCAAS;AACLK,kCAAMV,WADD;AAELW,qCAAS,IAFJ;AAGLC,qCAAS;AAHJ,yBAAT;AAKH,qBArBL;AAsBAJ;AACP;AACJ,aA5CL,EA4CO,eAAO;AACNsB,wBAAQC,GAAR,CAAYC,GAAZ;AACA3B,yBAAS;AACLK,0BAAMP,aADD;AAELQ,6BAAS,IAFJ;AAGLC,6BAAS;AAHJ,iBAAT;AAKH,aAnDL;AAoDTJ;AACE,SApEI,CAAP;AAqEG,KAtEJ;AAuEA;;AAEM,SAAStB,WAAT,GAAuB;AAC7B,WAAO,UAACmB,QAAD,EAAWC,QAAX,EAAwB;AAC9B,eAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAClCJ,qBAAS;AACLK,sBAAMT,YADD;AAELU,yBAAS,IAFJ;AAGLC,yBAAS;AAHJ,aAAT;AAKA,gBAAIC,OAAO;AACP;AACA;AACAE,uBAAO,oBAHA;AAIPC,0BAAU;AAJH,aAAX;AAMIE,YAAA,yDAAAA,CAAIC,IAAJ,CAAS,QAAT,EAAmBN,IAAnB,EACKO,IADL,CACU,eAAO;AACT,oBAAGC,IAAIC,IAAJ,CAASC,OAAT,IAAoB,KAAvB,EAA6B;AACzBlB,6BAAS;AACLK,8BAAMP,aADD;AAELQ,iCAAS,IAFJ;AAGLC,iCAASS,IAAIC,IAAJ,CAASV;AAHb,qBAAT;AAKH,iBAND,MAMK;AACDa,iCAAaC,OAAb,CAAqB,cAArB,EAAqCL,IAAIC,IAAJ,CAASK,KAA9C;AACA;AACA;AACAC,oBAAA,4DAAAA,CAAeC,IAAf,CAAoB,GAApB;AACH;AACJ,aAdL,EAcO,eAAO;AACNC,wBAAQC,GAAR,CAAYC,GAAZ;AACA3B,yBAAS;AACLK,0BAAMV,WADD;AAELW,6BAAS,IAFJ;AAGLC,6BAAS;AAHJ,iBAAT;AAKH,aArBL;AAsBTJ;AACE,SAnCI,CAAP;AAoCG,KArCJ;AAsCA;;AAEM,SAASrB,SAAT,CAAmB8C,GAAnB,EAAwBC,IAAxB,EAA6B;AAChC,WAAO;AACLxB,cAAON,UADF;AAELO,iBAAUuB,IAFL;AAGLD;AAHK,KAAP;AAKD;;AAGH,IAAME,0CAAA,4EAAAA,mBACDlC,YADC,EACe,UAACH,KAAD,EAAQsC,MAAR,EAAmB;AAChC,WAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBxC,KAAlB,EAAyB;AAC9Bc,iBAASwB,OAAOxB;AADc,KAAzB,CAAP;AAGH,CALC,kGAMDV,aANC,EAMgB,UAACJ,KAAD,EAAQsC,MAAR,EAAmB;AACjC,WAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBxC,KAAlB,EAAyB;AAC9Bc,iBAASwB,OAAOxB;AADc,KAAzB,CAAP;AAGH,CAVC,kGAWDZ,WAXC,EAWc,UAACF,KAAD,EAAQsC,MAAR,EAAmB;AAC/B,WAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBxC,KAAlB,EAAyB;AAC9ByC,gBAAQH,OAAOzB,OADe;AAE9BC,iBAASwB,OAAOxB;AAFc,KAAzB,CAAP;AAIH,CAhBC,kGAiBDT,aAjBC,EAiBgB,UAACL,KAAD,EAAQsC,MAAR,EAAmB;AACjC,WAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBxC,KAAlB,EAAyB;AAC9ByC,gBAAQH,OAAOzB,OADe;AAE9BC,iBAASwB,OAAOxB;AAFc,KAAzB,CAAP;AAIH,CAtBC,kGAuBDR,UAvBC,EAuBY,UAACN,KAAD,EAAQsC,MAAR,EAAmB;AAC7B,WAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBxC,KAAlB,mFACJsC,OAAOH,GADH,EACSG,OAAOzB,OADhB,EAAP;AAGH,CA3BC,oBAAN;;AA8BA,IAAM6B,eAAe;AACjBD,YAAQ;AADS,CAArB;AAGe,SAASE,cAAT,GAAuD;AAAA,QAA9B3C,KAA8B,uEAAtB0C,YAAsB;AAAA,QAARJ,MAAQ;;AACpE,QAAMM,UAAUP,gBAAgBC,OAAO1B,IAAvB,CAAhB;;AAEA,WAAOgC,UAAUA,QAAQ5C,KAAR,EAAesC,MAAf,CAAV,GAAmCtC,KAA1C;AACD,C","file":"1.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\n\nexport const Login = ({ login, handleLogin, makeState, handleSignup}) => (\n  <div className=\"row\" >\n    <form onSubmit={(event)=>{\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\thandleLogin()\n\t\t\t\t}}>\n      <button className=\"btn btn-success\" type=\"submit\">Login</button>      \n    </form>\n    {/* <form onSubmit={(event)=>{\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\thandleSignup()\n\t\t\t\t}}>\n      <button className=\"btn btn-warning\" type=\"submit\">Sign up</button>      \n    </form> */}\n  </div>\n)\nLogin.propTypes = {\n  login: PropTypes.object.isRequired,\n  handleLogin: PropTypes.func.isRequired,\n  handleSignup: PropTypes.func.isRequired\n}\n\nexport default Login\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Login/components/Login.js","import { connect } from 'react-redux'\nimport { handleLogin, makeState, handleSignup } from '../modules/login'\n\nimport Login from '../components/Login'\n\n\nconst mapDispatchToProps = {\n  handleLogin,\n  makeState,\n  handleSignup,\n}\n\nconst mapStateToProps = (state) => ({\n  login : state.login\n})\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Login/containers/LoginContainer.js","import api from '../../../../src/api'\nimport {browserHistory} from 'react-router'\n\nexport const LOGIN_FALSE = 'LOGIN_FALSE'\nexport const HANDLE_LOGIN = 'HANDLE_LOGIN'\nexport const HANDLE_SIGNUP = 'HANDLE SIGNUP'\nexport const SIGNUP_FAILED = 'SIGNUP_FAILED'\nexport const MAKE_STATE = 'MAKE_STATE'\n\n\nexport function handleSignup() {\n\treturn (dispatch, getState) => {\n\t\treturn new Promise((resolve, reject) => {\n        dispatch({\n            type: HANDLE_SIGNUP,\n            payload: true,\n            message: 'Handling signup!'\n        })\n        var body = {\n            // email: getState().login.email,\n            // password: getState().login.password\n            name: \"thien phu\",\n            email: \"thienphu@gmail.com\",\n            password: \"123123\",\n            password2: '123123'\n\n        }\n            api.post('/register', body)\n                .then(res => {\n                    if(res.data.success == true){\n                        dispatch({\n                            type: SIGNUP_FAILED,\n                            payload: true,\n                            message: res.data.message\n                        })\n                    }else{\n                        dispatch({\n                            type: HANDLE_LOGIN,\n                            payload: true,\n                            message: 'Handling login!'\n                        })\n                        var body = {\n                            // email: getState().login.email,\n                            // password: getState().login.password\n                            email: \"thienphu@gmail.com\",\n                            password: \"123123\"\n                        }\n                            api.post('/login', body)\n                                .then(res => {\n                                    if(res.data.success == false){\n                                        dispatch({\n                                            type: LOGIN_FAILED,\n                                            payload: true,\n                                            message: res.data.message\n                                        })\n                                    }else{\n                                        localStorage.setItem('access_token', res.data.token);\n                                        // var home = {...getState().login};\n                                        // home.doctor = response.doctor;\n                                        browserHistory.push('/');\n                                    }\n                                }, err => {\n                                    console.log(err);\n                                    dispatch({\n                                        type: LOGIN_FALSE,\n                                        payload: true,\n                                        message: 'An error occurred!'\n                                    })\n                                })\n                            resolve();\n                    }\n                }, err => {\n                    console.log(err);\n                    dispatch({\n                        type: SIGNUP_FAILED,\n                        payload: true,\n                        message: 'An error occurred!'\n                    })\n                })\n\t\t\tresolve();\n    });\n    }\n}\n\nexport function handleLogin() {\n\treturn (dispatch, getState) => {\n\t\treturn new Promise((resolve, reject) => {\n        dispatch({\n            type: HANDLE_LOGIN,\n            payload: true,\n            message: 'Handling login!'\n        })\n        var body = {\n            // email: getState().login.email,\n            // password: getState().login.password\n            email: \"thienphu@gmail.com\",\n            password: \"123123\"\n        }\n            api.post('/login', body)\n                .then(res => {\n                    if(res.data.success == false){\n                        dispatch({\n                            type: SIGNUP_FAILED,\n                            payload: true,\n                            message: res.data.message\n                        })\n                    }else{\n                        localStorage.setItem('access_token', res.data.token);\n                        // var home = {...getState().login};\n                        // home.doctor = response.doctor;\n                        browserHistory.push('/');\n                    }\n                }, err => {\n                    console.log(err);\n                    dispatch({\n                        type: LOGIN_FALSE,\n                        payload: true,\n                        message: 'An error occurred!'\n                    })\n                })\n\t\t\tresolve();\n    });\n    }\n}\n\nexport function makeState(key, text){\n    return {\n      type : MAKE_STATE,\n      payload : text,\n      key\n    }\n  }\n\n\nconst ACTION_HANDLERS = {\n    [HANDLE_LOGIN] : (state, action) => {\n        return Object.assign({}, state, {\n          message: action.message\n        })\n    },\n    [HANDLE_SIGNUP] : (state, action) => {\n        return Object.assign({}, state, {\n          message: action.message\n        })\n    },\n    [LOGIN_FALSE] : (state, action) => {\n        return Object.assign({}, state, {\n          dialog: action.payload,\n          message: action.message\n        })\n    },\n    [SIGNUP_FAILED] : (state, action) => {\n        return Object.assign({}, state, {\n          dialog: action.payload,\n          message: action.message\n        })\n    },\n    [MAKE_STATE]: (state, action) => {\n        return Object.assign({}, state, {\n          [action.key]: action.payload\n        })\n    }\n}\n\nconst initialState = {\n    dialog: false\n}\nexport default function counterReducer (state = initialState, action) {\n  const handler = ACTION_HANDLERS[action.type]\n\n  return handler ? handler(state, action) : state\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Login/modules/login.js"],"sourceRoot":""}